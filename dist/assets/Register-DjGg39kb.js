import{u as e,j as a}from"./vendor-utils-Dq_s5RPr.js";import{f as s,r as l,L as r}from"./vendor-react-Cv8fuk8E.js";import{c as n}from"./index-BboWMfKQ.js";const t=()=>{const t=s(),[m,i]=l.useState({name:"",email:"",username:"",password:"",gymId:""}),[o,c]=l.useState(null),{data:d}=e({queryKey:["gyms"],queryFn:async()=>(await n.get("/api/gyms")).data}),u=e=>{i((a=>({...a,[e.target.name]:e.target.value})))};return a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-8 col-lg-6",children:a.jsx("div",{className:"card",children:a.jsx("div",{className:"card-body p-4",children:a.jsxs("form",{onSubmit:async e=>{var a,s;e.preventDefault();try{await n.post("/auth/register",m),t("/sends")}catch(l){(null==(s=null==(a=l.response)?void 0:a.data)?void 0:s.message)?c(l.response.data.message):c("Something went wrong. Please try again.")}},children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label required-field",children:"Name"}),a.jsx("input",{type:"text",name:"name",className:"form-control form-control-lg",placeholder:"Samir",required:!0,value:m.name,onChange:u})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label required-field",children:"Email"}),a.jsx("input",{type:"email",name:"email",className:"form-control form-control-lg",placeholder:"name@email.com",required:!0,value:m.email,onChange:u})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label required-field",children:"Username"}),a.jsxs("div",{className:"input-group input-group-lg",children:[a.jsx("span",{className:"input-group-text",children:"@"}),a.jsx("input",{type:"text",name:"username",className:"form-control",required:!0,pattern:"[A-Za-z0-9]{1,9}",title:"Username must be 1-9 characters, letters and numbers only",placeholder:"heysamir",value:m.username,onChange:u})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label required-field",children:"Password"}),a.jsx("input",{type:"password",name:"password",className:"form-control form-control-lg",required:!0,placeholder:"8-12 characters, letters, numbers, symbols allowed",value:m.password,onChange:u})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label required-field",children:"Home Gym"}),a.jsxs("select",{name:"gymId",className:"form-select form-select-lg mb-2",value:m.gymId,onChange:u,required:!0,children:[a.jsx("option",{value:"",children:"Select a gym"}),null==d?void 0:d.map((e=>a.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),o&&a.jsx("div",{className:"alert alert-danger",role:"alert",children:o}),a.jsx("button",{type:"submit",className:"btn nav-link active bg-solo-purple w-100 py-3",children:"Join"}),a.jsx("div",{className:"text-center mt-3",children:a.jsx(r,{to:"/login",className:"text-decoration-none text-white",children:"Already have an account? Login"})})]})})})})})};export{t as default};
