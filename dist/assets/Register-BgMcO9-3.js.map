{"version":3,"file":"Register-BgMcO9-3.js","sources":["../../src/pages/Register.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport client from '../api/client';\n\ninterface RegisterForm {\n  name: string;\n  email: string;\n  username: string;\n  password: string;\n  gymId: string;\n}\n\ninterface Gym {\n  id: number;\n  name: string;\n}\n\nconst Register: React.FC = () => {\n  const navigate = useNavigate();\n  const [form, setForm] = useState<RegisterForm>({\n    name: '',\n    email: '',\n    username: '',\n    password: '',\n    gymId: ''\n  });\n  const [error, setError] = useState<string | null>(null);\n\n  const { data: gyms } = useQuery<Gym[]>({\n    queryKey: ['gyms'],\n    queryFn: async () => {\n      const response = await client.get('/api/gyms');\n      return response.data;\n    }\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      await client.post('/auth/register', form);\n      navigate('/sends');\n    } catch (err: any) {\n      if (err.response?.data?.message) {\n        setError(err.response.data.message);\n      } else {\n        setError('Something went wrong. Please try again.');\n      }\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    setForm(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  return (\n    <div className=\"row justify-content-center\">\n      <div className=\"col-md-8 col-lg-6\">\n        <div className=\"card\">\n          <div className=\"card-body p-4\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Name</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Samir\"\n                  required\n                  value={form.name}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Email</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"name@email.com\"\n                  required\n                  value={form.email}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Username</label>\n                <div className=\"input-group input-group-lg\">\n                  <span className=\"input-group-text\">@</span>\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control\"\n                    required\n                    pattern=\"[A-Za-z0-9]{1,9}\"\n                    title=\"Username must be 1-9 characters, letters and numbers only\"\n                    placeholder=\"heysamir\"\n                    value={form.username}\n                    onChange={handleChange}\n                  />\n                </div>\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Password</label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  className=\"form-control form-control-lg\"\n                  required\n                  placeholder=\"8-12 characters, letters, numbers, symbols allowed\"\n                  value={form.password}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Home Gym</label>\n                <select\n                  name=\"gymId\"\n                  className=\"form-select form-select-lg mb-2\"\n                  value={form.gymId}\n                  onChange={handleChange}\n                  required\n                >\n                  <option value=\"\">Select a gym</option>\n                  {gyms?.map(gym => (\n                    <option key={gym.id} value={gym.id}>\n                      {gym.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {error}\n                </div>\n              )}\n              <button\n                type=\"submit\"\n                className=\"btn nav-link active bg-solo-purple w-100 py-3\"\n              >\n                Join\n              </button>\n              <div className=\"text-center mt-3\">\n                <Link to=\"/login\" className=\"text-decoration-none text-white\">\n                  Already have an account? Login\n                </Link>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"names":["Register","navigate","useNavigate","form","setForm","useState","name","email","username","password","gymId","error","setError","data","gyms","useQuery","queryKey","queryFn","async","client","get","handleChange","e","prev","target","value","className","children","jsx","jsxs","onSubmit","preventDefault","post","err","_b","_a","response","message","jsxRuntimeExports","type","placeholder","required","onChange","pattern","title","map","gym","id","role","Link","to"],"mappings":"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"}