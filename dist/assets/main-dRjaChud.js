const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Home-Cqg6GhfP.js","./vendor-react-CtadRSyQ.js","./vendor-m8_k2utT.js","./vendor-BPV6_s6f.css","./vendor-chart-BLvGLuzR.js","./About-DqXkdE7V.js","./Profile-D6VimvDU.js","./Sends-CXpwonDZ.js","./Sessions-CL0Ildah.js","./Stats-TFOqTDUf.js","./Standings-De9ziSqP.js","./Login-UOvSKLcR.js","./Register-BQ-Tl8py.js","./Feedback-DfWQvPCA.js"])))=>i.map(i=>d[i]);
import{u as e,j as s,L as t,r as n,O as a,N as i,R as r,a as l,b as c,B as o,c as d}from"./vendor-react-CtadRSyQ.js";import{a as m}from"./vendor-m8_k2utT.js";import"./vendor-chart-BLvGLuzR.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const h={},x=function(e,s,t){let n=Promise.resolve();if(s&&s.length>0){const e=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),i=a?.nonce||a?.getAttribute("nonce");n=Promise.allSettled(s.map((s=>{if(s=function(e,s){return new URL(e,s).href}(s,t),s in h)return;h[s]=!0;const n=s.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(!!t)for(let t=e.length-1;t>=0;t--){const a=e[t];if(a.href===s&&(!n||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const r=document.createElement("link");return r.rel=n?"stylesheet":"modulepreload",n||(r.as="script"),r.crossOrigin="",r.href=s,i&&r.setAttribute("nonce",i),document.head.appendChild(r),n?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${s}`))))})):void 0})))}function a(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return n.then((s=>{for(const e of s||[])"rejected"===e.status&&a(e.reason);return e().catch(a)}))};function j(){const n=e();return s.jsx("nav",{className:"navbar fixed-bottom",children:s.jsx("div",{className:"container-fluid",children:s.jsxs("ul",{className:"navbar-nav",children:[s.jsx("li",{className:"nav-item",children:s.jsx(t,{to:"/profile",className:"nav-link "+("/profile"===n.pathname?"active":""),children:s.jsx("i",{className:"material-icons",children:"person"})})}),s.jsx("li",{className:"nav-item",children:s.jsx(t,{to:"/standings",className:"nav-link "+("/standings"===n.pathname?"active":""),children:s.jsx("i",{className:"material-icons",children:"emoji_events"})})}),s.jsx("li",{className:"nav-item",children:s.jsx(t,{to:"/sends",className:"nav-link "+("/sends"===n.pathname?"active":""),children:s.jsx("i",{className:"material-icons",children:"arrow_circle_up"})})}),s.jsx("li",{className:"nav-item",children:s.jsx(t,{to:"/sessions",className:"nav-link "+("/sessions"===n.pathname?"active":""),children:s.jsx("i",{className:"material-icons",children:"calendar_today"})})}),s.jsx("li",{className:"nav-item",children:s.jsx(t,{to:"/stats",className:"nav-link "+("/stats"===n.pathname?"active":""),children:s.jsx("i",{className:"material-icons",children:"bar_chart"})})})]})})})}const u="/api";console.log("API base URL:",u);const p=m.create({baseURL:u,headers:{"Content-Type":"application/json"},withCredentials:!0});p.interceptors.response.use((e=>e),(e=>(console.error("API Error:",e),401===e.response?.status&&(window.location.href="/login"),Promise.reject(e))));const f=()=>{const[e,a]=n.useState(!1),{isAuthenticated:i,logout:r}=(()=>{const[e,s]=n.useState({isAuthenticated:!1,isLoading:!0,user:null});return n.useEffect((()=>{(async()=>{try{const e=await p.get("/auth/check");s({isAuthenticated:!0,isLoading:!1,user:e.data})}catch(e){s({isAuthenticated:!1,isLoading:!1,user:null})}})()}),[]),e})();return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-solo-purple",children:s.jsxs("div",{className:"header-container d-flex justify-content-between align-items-center",children:[s.jsx(t,{to:"/sends",className:"d-inline-block",children:s.jsx("img",{src:"/static/images/solo-clear.png",alt:"Solo Logo",className:"header-logo",height:"50"})}),s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("button",{className:"btn menu-toggle",type:"button",onClick:()=>a(!0),children:s.jsx("i",{className:"material-icons",children:"menu"})})})]})}),s.jsxs("div",{className:"offcanvas offcanvas-end "+(e?"show":""),tabIndex:-1,id:"menuSidebar",children:[s.jsx("div",{className:"offcanvas-header",children:s.jsx("button",{type:"button",className:"btn-close",onClick:()=>a(!1)})}),s.jsx("div",{className:"offcanvas-body px-3 pt-0",children:s.jsxs("div",{className:"list-group list-group-flush",children:[s.jsxs(t,{to:"/profile",className:"list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white",onClick:()=>a(!1),children:[s.jsx("i",{className:"material-icons",children:"mood"}),s.jsx("span",{className:"ms-3",children:"Profile"})]}),s.jsxs(t,{to:"/about",className:"list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white",onClick:()=>a(!1),children:[s.jsx("i",{className:"material-icons",children:"help"}),s.jsx("span",{className:"ms-3",children:"About"})]}),s.jsxs(t,{to:"/feedback",className:"list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white",onClick:()=>a(!1),children:[s.jsx("i",{className:"material-icons",children:"rate_review"}),s.jsx("span",{className:"ms-3",children:"Feedback"})]}),s.jsxs(t,{to:"/pricing",className:"list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white",onClick:()=>a(!1),children:[s.jsx("i",{className:"material-icons",children:"star"}),s.jsxs("span",{className:"ms-3 d-flex align-items-center",children:["Solo ",s.jsx("span",{className:"pro-badge ms-1",children:"PRO"})]})]}),i?s.jsxs("button",{onClick:()=>{r(),a(!1)},className:"list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white",children:[s.jsx("i",{className:"material-icons",children:"logout"}),s.jsx("span",{className:"ms-3",children:"Logout"})]}):s.jsxs(t,{to:"/login",className:"list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white",onClick:()=>a(!1),children:[s.jsx("i",{className:"material-icons",children:"login"}),s.jsx("span",{className:"ms-3",children:"Login"})]})]})})]}),e&&s.jsx("div",{className:"offcanvas-backdrop fade show",onClick:()=>a(!1)})]})},g=()=>(console.log("Layout component rendering..."),s.jsxs("div",{className:"app",children:[s.jsx(f,{}),s.jsx("main",{className:"container",children:s.jsx(a,{})}),s.jsx(j,{})]})),b=({size:e="md"})=>s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-purple-500 ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e]}`})}),N=n.createContext(null),_=()=>{const e=n.useContext(N);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},v=({children:t})=>{const{isAuthenticated:n,loading:a}=_(),r=e();return a?s.jsx(b,{}):n?s.jsx(s.Fragment,{children:t}):s.jsx(i,{to:"/login",state:{from:r},replace:!0})},y=n.lazy((()=>x((()=>import("./Home-Cqg6GhfP.js")),__vite__mapDeps([0,1,2,3,4]),import.meta.url))),k=n.lazy((()=>x((()=>import("./About-DqXkdE7V.js")),__vite__mapDeps([5,1,2,3,4]),import.meta.url))),w=n.lazy((()=>x((()=>import("./Profile-D6VimvDU.js")),__vite__mapDeps([6,1,2,3,4]),import.meta.url))),E=n.lazy((()=>x((()=>import("./Sends-CXpwonDZ.js")),__vite__mapDeps([7,1,2,3,4]),import.meta.url))),L=n.lazy((()=>x((()=>import("./Sessions-CL0Ildah.js")),__vite__mapDeps([8,1,2,3,4]),import.meta.url))),S=n.lazy((()=>x((()=>import("./Stats-TFOqTDUf.js")),__vite__mapDeps([9,1,2,3,4]),import.meta.url))),A=n.lazy((()=>x((()=>import("./Standings-De9ziSqP.js")),__vite__mapDeps([10,1,2,3,4]),import.meta.url))),P=n.lazy((()=>x((()=>import("./Login-UOvSKLcR.js")),__vite__mapDeps([11,1,2,3,4]),import.meta.url))),R=n.lazy((()=>x((()=>import("./Register-BQ-Tl8py.js")),__vite__mapDeps([12,1,2,3,4]),import.meta.url))),O=n.lazy((()=>x((()=>import("./Feedback-DfWQvPCA.js")),__vite__mapDeps([13,1,2,3,4]),import.meta.url))),C=()=>{const{isAuthenticated:e}=_();return s.jsx(r,{children:s.jsxs(l,{path:"/",element:s.jsx(g,{}),children:[s.jsx(l,{path:"about",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(k,{})})}),s.jsx(l,{path:"login",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(P,{})})}),s.jsx(l,{path:"signup",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(R,{})})}),s.jsx(l,{path:"home",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(v,{children:s.jsx(y,{})})})}),s.jsx(l,{path:"profile/:username?",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(v,{children:s.jsx(w,{})})})}),s.jsx(l,{path:"sends",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(v,{children:s.jsx(E,{})})})}),s.jsx(l,{path:"sessions",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(v,{children:s.jsx(L,{})})})}),s.jsx(l,{path:"stats",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(v,{children:s.jsx(S,{})})})}),s.jsx(l,{path:"standings",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(v,{children:s.jsx(A,{})})})}),s.jsx(l,{path:"feedback",element:s.jsx(n.Suspense,{fallback:s.jsx(b,{}),children:s.jsx(v,{children:s.jsx(O,{})})})}),s.jsx(l,{index:!0,element:s.jsx(i,{to:e?"/home":"/about",replace:!0})}),s.jsx(l,{path:"*",element:s.jsx(i,{to:e?"/home":"/about",replace:!0})})]})})},I=()=>(c.useEffect((()=>{const e=new URL(window.location.href);e.search&&window.history.replaceState({},"",e.pathname)}),[]),s.jsx(o,{children:s.jsx("div",{className:"app",children:s.jsx(C,{})})})),T=document.getElementById("root");if(!T)throw new Error("Root element not found");d.createRoot(T).render(s.jsx(c.StrictMode,{children:s.jsx(I,{})}));export{b as L,p as c};
