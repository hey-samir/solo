import{r as d,f as i,j as e}from"./vendor-D1-M7YfK.js";import{L as m,c as h}from"./main-BxwRSgSc.js";const j=()=>{const[t,c]=d.useState({isFromCache:!1,timestamp:null}),{data:r,isLoading:n}=i({queryKey:["leaderboard"],queryFn:async()=>{const s=await h.get("/leaderboard"),a=s.headers?.["x-cache-timestamp"]||null,l=s.headers?.["x-data-source"]==="cache";return c({isFromCache:l,timestamp:a}),s.data}});return n?e.jsx(m,{}):e.jsx("div",{className:"container-fluid px-3",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-0",children:[t.isFromCache&&e.jsxs("div",{className:"alert alert-info m-2",children:[e.jsx("i",{className:"material-icons align-middle",children:"access_time"}),e.jsx("span",{children:"Viewing cached standings"}),t.timestamp&&e.jsxs("span",{className:"ms-2 text-muted",children:["Last updated: ",new Date(t.timestamp).toLocaleString()]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",children:"#"}),e.jsx("th",{children:"Username"}),e.jsx("th",{className:"text-center",children:"Sends"}),e.jsx("th",{className:"text-center",children:"Grade"}),e.jsx("th",{className:"text-center",children:"Pts"})]})}),e.jsx("tbody",{children:r?.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:a+1<=3?e.jsxs("span",{className:"material-symbols-outlined",children:["counter_",a+1]}):a+1}),e.jsx("td",{children:s.username}),e.jsx("td",{className:"text-center",children:s.totalSends}),e.jsx("td",{className:"text-center",children:s.avgGrade}),e.jsx("td",{className:"text-center",children:s.totalPoints})]},s.username))})]})})]})})})};export{j as default};
