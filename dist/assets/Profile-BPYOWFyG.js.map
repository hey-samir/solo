{"version":3,"file":"Profile-BPYOWFyG.js","sources":["../../src/pages/Profile.tsx"],"sourcesContent":["import React, { FC, useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useQuery } from '@tanstack/react-query'\nimport client from '../api/client'\nimport LoadingSpinner from '../components/LoadingSpinner'\n\ninterface User {\n  id: number\n  username: string\n  profilePhoto: string | null\n  memberSince: string\n  gymId: number | null\n}\n\ninterface Stats {\n  totalAscents: number\n  totalPoints: number\n  avgGrade: string\n}\n\nconst Profile: FC = () => {\n  const { username } = useParams()\n  const isOwnProfile = !username // If no username provided, viewing own profile\n\n  const { data: user, isLoading: userLoading } = useQuery<User>({\n    queryKey: ['user', username],\n    queryFn: async () => {\n      const response = await client.get(`/user/${username || 'me'}`)\n      return response.data\n    },\n    enabled: !!username || isOwnProfile\n  })\n\n  const { data: stats, isLoading: statsLoading } = useQuery<Stats>({\n    queryKey: ['user-stats', username],\n    queryFn: async () => {\n      const response = await client.get(`/user/${username || 'me'}/stats`)\n      return response.data\n    },\n    enabled: !!user\n  })\n\n  if (userLoading || statsLoading) {\n    return <LoadingSpinner />\n  }\n\n  if (!user) {\n    return (\n      <div className=\"text-center py-8\">\n        <h1 className=\"text-2xl font-bold text-red-600\">User not found</h1>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"profile-section\">\n      <div className=\"text-center mb-8\">\n        <img\n          src={user.profilePhoto || '/default-avatar.svg'}\n          alt={`${user.username}'s profile`}\n          className=\"w-32 h-32 rounded-full mx-auto mb-4\"\n        />\n        <h1 className=\"text-3xl font-bold text-gray-900\">{user.username}</h1>\n        <p className=\"text-gray-600\">Member since {new Date(user.memberSince).toLocaleDateString()}</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.totalAscents || 0}</div>\n          <div className=\"stats-label\">Total Ascents</div>\n        </div>\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.avgGrade || '--'}</div>\n          <div className=\"stats-label\">Average Grade</div>\n        </div>\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.totalPoints || 0}</div>\n          <div className=\"stats-label\">Total Points</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Profile"],"names":["jsx","jsxs"],"mappings":";;;AAoBA,MAAM,UAAc,MAAM;AAClB,QAAA,EAAE,SAAS,IAAI,UAAU;AAC/B,QAAM,eAAe,CAAC;AAEtB,QAAM,EAAE,MAAM,MAAM,WAAW,YAAA,IAAgB,SAAe;AAAA,IAC5D,UAAU,CAAC,QAAQ,QAAQ;AAAA,IAC3B,SAAS,YAAY;AACnB,YAAM,WAAW,MAAM,OAAO,IAAI,SAAS,YAAY,IAAI,EAAE;AAC7D,aAAO,SAAS;AAAA,IAClB;AAAA,IACA,SAAS,CAAC,CAAC,YAAY;AAAA,EAAA,CACxB;AAED,QAAM,EAAE,MAAM,OAAO,WAAW,aAAA,IAAiB,SAAgB;AAAA,IAC/D,UAAU,CAAC,cAAc,QAAQ;AAAA,IACjC,SAAS,YAAY;AACnB,YAAM,WAAW,MAAM,OAAO,IAAI,SAAS,YAAY,IAAI,QAAQ;AACnE,aAAO,SAAS;AAAA,IAClB;AAAA,IACA,SAAS,CAAC,CAAC;AAAA,EAAA,CACZ;AAED,MAAI,eAAe,cAAc;AAC/B,iDAAQ,gBAAe,EAAA;AAAA,EAAA;AAGzB,MAAI,CAAC,MAAM;AAEP,WAAAA,kCAAA,IAAC,SAAI,WAAU,oBACb,gDAAC,MAAG,EAAA,WAAU,mCAAkC,UAAA,iBAAA,CAAc,EAChE,CAAA;AAAA,EAAA;AAKF,SAAAC,kCAAA,KAAC,OAAI,EAAA,WAAU,mBACb,UAAA;AAAA,IAACA,kCAAAA,KAAA,OAAA,EAAI,WAAU,oBACb,UAAA;AAAA,MAAAD,kCAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAK,KAAK,gBAAgB;AAAA,UAC1B,KAAK,GAAG,KAAK,QAAQ;AAAA,UACrB,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACCA,kCAAA,IAAA,MAAA,EAAG,WAAU,oCAAoC,eAAK,UAAS;AAAA,MAChEC,kCAAAA,KAAC,KAAE,EAAA,WAAU,iBAAgB,UAAA;AAAA,QAAA;AAAA,QAAc,IAAI,KAAK,KAAK,WAAW,EAAE,mBAAmB;AAAA,MAAA,EAAE,CAAA;AAAA,IAAA,GAC7F;AAAA,IAEAA,kCAAAA,KAAC,OAAI,EAAA,WAAU,yCACb,UAAA;AAAA,MAACA,kCAAAA,KAAA,OAAA,EAAI,WAAU,cACb,UAAA;AAAA,QAAAD,sCAAC,OAAI,EAAA,WAAU,eAAe,WAAA,+BAAO,iBAAgB,GAAE;AAAA,QACtDA,kCAAA,IAAA,OAAA,EAAI,WAAU,eAAc,UAAa,gBAAA,CAAA;AAAA,MAAA,GAC5C;AAAA,MACAC,kCAAAA,KAAC,OAAI,EAAA,WAAU,cACb,UAAA;AAAA,QAAAD,sCAAC,OAAI,EAAA,WAAU,eAAe,WAAA,+BAAO,aAAY,MAAK;AAAA,QACrDA,kCAAA,IAAA,OAAA,EAAI,WAAU,eAAc,UAAa,gBAAA,CAAA;AAAA,MAAA,GAC5C;AAAA,MACAC,kCAAAA,KAAC,OAAI,EAAA,WAAU,cACb,UAAA;AAAA,QAAAD,sCAAC,OAAI,EAAA,WAAU,eAAe,WAAA,+BAAO,gBAAe,GAAE;AAAA,QACrDA,kCAAA,IAAA,OAAA,EAAI,WAAU,eAAc,UAAY,eAAA,CAAA;AAAA,MAAA,EAC3C,CAAA;AAAA,IAAA,EACF,CAAA;AAAA,EAAA,GACF;AAEJ;"}