import{r as m,j as e,a as h,c as x}from"./main-XbrgEMxt.js";import{u as o}from"./useQuery-CoxOj_e5.js";const p=()=>{const[t,l]=m.useState({isFromCache:!1,timestamp:null}),{data:c,isLoading:i}=o({queryKey:["leaderboard"],queryFn:async()=>{var r,n;const s=await x.get("/leaderboard"),a=((r=s.headers)==null?void 0:r["x-cache-timestamp"])||null,d=((n=s.headers)==null?void 0:n["x-data-source"])==="cache";return l({isFromCache:d,timestamp:a}),s.data}});return i?e.jsx(h,{}):e.jsx("div",{className:"container-fluid px-3",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-0",children:[t.isFromCache&&e.jsxs("div",{className:"alert alert-info m-2",children:[e.jsx("i",{className:"material-icons align-middle",children:"access_time"}),e.jsx("span",{children:"Viewing cached standings"}),t.timestamp&&e.jsxs("span",{className:"ms-2 text-muted",children:["Last updated: ",new Date(t.timestamp).toLocaleString()]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",children:"#"}),e.jsx("th",{children:"Username"}),e.jsx("th",{className:"text-center",children:"Sends"}),e.jsx("th",{className:"text-center",children:"Grade"}),e.jsx("th",{className:"text-center",children:"Pts"})]})}),e.jsx("tbody",{children:c==null?void 0:c.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:a+1<=3?e.jsxs("span",{className:"material-symbols-outlined",children:["counter_",a+1]}):a+1}),e.jsx("td",{children:s.username}),e.jsx("td",{className:"text-center",children:s.totalSends}),e.jsx("td",{className:"text-center",children:s.avgGrade}),e.jsx("td",{className:"text-center",children:s.totalPoints})]},s.username))})]})})]})})})};export{p as default};
