{"version":3,"file":"Sessions-BlR4ihHw.js","sources":["../../src/pages/Sessions.tsx"],"sourcesContent":["import React, { FC } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport client from '../api/client'\nimport LoadingSpinner from '../components/LoadingSpinner'\n\ninterface Climb {\n  id: number\n  routeId: number\n  status: boolean\n  rating: number\n  tries: number\n  notes: string\n  points: number\n  createdAt: string\n  route: {\n    color: string\n    grade: string\n  }\n}\n\ninterface ClimbsByDate {\n  [date: string]: Climb[]\n}\n\nconst Sessions: FC = () => {\n  const { data: climbs, isLoading } = useQuery<Climb[]>({\n    queryKey: ['climbs'],\n    queryFn: async () => {\n      const response = await client.get('/climbs')\n      return response.data\n    }\n  })\n\n  if (isLoading) {\n    return <LoadingSpinner />\n  }\n\n  // Group climbs by date\n  const climbsByDate = climbs?.reduce((acc: ClimbsByDate, climb) => {\n    const date = new Date(climb.createdAt).toLocaleDateString()\n    if (!acc[date]) {\n      acc[date] = []\n    }\n    acc[date].push(climb)\n    return acc\n  }, {}) || {}\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"section-title\">Your Climbing Sessions</h1>\n\n      {Object.entries(climbsByDate).map(([date, sessionClimbs]) => (\n        <div key={date} className=\"mb-8\">\n          <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">{date}</h2>\n          <div className=\"space-y-4\">\n            {sessionClimbs.map((climb) => (\n              <div key={climb.id} className=\"climb-card\">\n                <div className=\"flex justify-between items-center\">\n                  <div>\n                    <span className=\"font-medium text-gray-900\">\n                      Grade {climb.route.grade}\n                    </span>\n                    <span className=\"mx-2 text-gray-400\">|</span>\n                    <span className=\"text-gray-600\">\n                      {climb.route.color}\n                    </span>\n                  </div>\n                  <div className=\"text-right\">\n                    <span className={`font-medium ${climb.status ? 'text-green-600' : 'text-red-600'}`}>\n                      {climb.status ? 'Send' : 'Attempt'}\n                    </span>\n                    <span className=\"mx-2 text-gray-400\">|</span>\n                    <span className=\"text-purple-600 font-medium\">\n                      {climb.points} pts\n                    </span>\n                  </div>\n                </div>\n                {climb.notes && (\n                  <p className=\"mt-2 text-gray-600 text-sm\">{climb.notes}</p>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      ))}\n\n      {Object.keys(climbsByDate).length === 0 && (\n        <p className=\"text-center text-gray-600 mt-8\">\n          No climbing sessions recorded yet.\n        </p>\n      )}\n    </div>\n  )\n}\n\nexport default Sessions"],"names":["Sessions","climbs","isLoading","useQuery","client","LoadingSpinner","climbsByDate","acc","climb","date","jsxs","jsx","sessionClimbs"],"mappings":"+FAwBA,MAAMA,EAAe,IAAM,CACzB,KAAM,CAAE,KAAMC,EAAQ,UAAAC,CAAA,EAAcC,EAAkB,CACpD,SAAU,CAAC,QAAQ,EACnB,QAAS,UACU,MAAMC,EAAO,IAAI,SAAS,GAC3B,IAClB,CACD,EAED,GAAIF,EACF,aAAQG,EAAe,EAAA,EAIzB,MAAMC,GAAeL,GAAA,YAAAA,EAAQ,OAAO,CAACM,EAAmBC,IAAU,CAChE,MAAMC,EAAO,IAAI,KAAKD,EAAM,SAAS,EAAE,mBAAmB,EACtD,OAACD,EAAIE,CAAI,IACPF,EAAAE,CAAI,EAAI,CAAC,GAEXF,EAAAE,CAAI,EAAE,KAAKD,CAAK,EACbD,CAAA,EACN,CAAA,KAAO,CAAC,EAGT,OAAAG,EAAA,KAAC,MAAI,CAAA,UAAU,8BACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,gBAAgB,SAAsB,yBAAA,EAEnD,OAAO,QAAQL,CAAY,EAAE,IAAI,CAAC,CAACG,EAAMG,CAAa,IACpDF,EAAA,KAAA,MAAA,CAAe,UAAU,OACxB,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,2CAA4C,SAAKF,EAAA,EAC/DE,EAAA,IAAC,MAAI,CAAA,UAAU,YACZ,SAAAC,EAAc,IAAKJ,GAClBE,EAAA,KAAC,MAAmB,CAAA,UAAU,aAC5B,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,4BAA4B,SAAA,CAAA,SACnCF,EAAM,MAAM,KAAA,EACrB,EACCG,EAAA,IAAA,OAAA,CAAK,UAAU,qBAAqB,SAAC,IAAA,QACrC,OAAK,CAAA,UAAU,gBACb,SAAAH,EAAM,MAAM,KACf,CAAA,CAAA,EACF,EACAE,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAACC,EAAA,IAAA,OAAA,CAAK,UAAW,eAAeH,EAAM,OAAS,iBAAmB,cAAc,GAC7E,SAAAA,EAAM,OAAS,OAAS,UAC3B,EACCG,EAAA,IAAA,OAAA,CAAK,UAAU,qBAAqB,SAAC,IAAA,EACtCD,EAAAA,KAAC,OAAK,CAAA,UAAU,8BACb,SAAA,CAAMF,EAAA,OAAO,MAAA,CAChB,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EACCA,EAAM,OACLG,EAAA,IAAC,KAAE,UAAU,6BAA8B,WAAM,KAAM,CAAA,CAAA,GAtBjDH,EAAM,EAwBhB,CACD,CACH,CAAA,CAAA,CAAA,EA9BQC,CA+BV,CACD,EAEA,OAAO,KAAKH,CAAY,EAAE,SAAW,GACnCK,MAAA,IAAA,CAAE,UAAU,iCAAiC,SAE9C,oCAAA,CAAA,CAAA,EAEJ,CAEJ"}