{"version":3,"file":"Profile-9GF0o_Mn.js","sources":["../../src/pages/Profile.tsx"],"sourcesContent":["import React, { FC, useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useQuery } from '@tanstack/react-query'\nimport client from '../api/client'\nimport LoadingSpinner from '../components/LoadingSpinner'\n\ninterface User {\n  id: number\n  username: string\n  profilePhoto: string | null\n  memberSince: string\n  gymId: number | null\n}\n\ninterface Stats {\n  totalAscents: number\n  totalPoints: number\n  avgGrade: string\n}\n\nconst Profile: FC = () => {\n  const { username } = useParams()\n  const isOwnProfile = !username // If no username provided, viewing own profile\n\n  const { data: user, isLoading: userLoading } = useQuery<User>({\n    queryKey: ['user', username],\n    queryFn: async () => {\n      const response = await client.get(`/user/${username || 'me'}`)\n      return response.data\n    },\n    enabled: !!username || isOwnProfile\n  })\n\n  const { data: stats, isLoading: statsLoading } = useQuery<Stats>({\n    queryKey: ['user-stats', username],\n    queryFn: async () => {\n      const response = await client.get(`/user/${username || 'me'}/stats`)\n      return response.data\n    },\n    enabled: !!user\n  })\n\n  if (userLoading || statsLoading) {\n    return <LoadingSpinner />\n  }\n\n  if (!user) {\n    return (\n      <div className=\"text-center py-8\">\n        <h1 className=\"text-2xl font-bold text-red-600\">User not found</h1>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"profile-section\">\n      <div className=\"text-center mb-8\">\n        <img\n          src={user.profilePhoto || '/default-avatar.svg'}\n          alt={`${user.username}'s profile`}\n          className=\"w-32 h-32 rounded-full mx-auto mb-4\"\n        />\n        <h1 className=\"text-3xl font-bold text-gray-900\">{user.username}</h1>\n        <p className=\"text-gray-600\">Member since {new Date(user.memberSince).toLocaleDateString()}</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.totalAscents || 0}</div>\n          <div className=\"stats-label\">Total Ascents</div>\n        </div>\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.avgGrade || '--'}</div>\n          <div className=\"stats-label\">Average Grade</div>\n        </div>\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.totalPoints || 0}</div>\n          <div className=\"stats-label\">Total Points</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Profile"],"names":["Profile","username","useParams","isOwnProfile","data","user","isLoading","userLoading","useQuery","queryKey","queryFn","async","client","get","enabled","stats","statsLoading","LoadingSpinner","jsxs","className","children","jsxRuntimeExports","jsx","src","profilePhoto","alt","Date","memberSince","toLocaleDateString","totalAscents","avgGrade","totalPoints"],"mappings":"oJAoBA,MAAMA,EAAc,KACZ,MAAAC,SAAEA,GAAaC,IACfC,GAAgBF,GAEdG,KAAMC,EAAMC,UAAWC,GAAgBC,EAAe,CAC5DC,SAAU,CAAC,OAAQR,GACnBS,QAASC,gBACgBC,EAAOC,IAAI,SAASZ,GAAY,SACvCG,KAElBU,UAAWb,GAAYE,KAGjBC,KAAMW,EAAOT,UAAWU,GAAiBR,EAAgB,CAC/DC,SAAU,CAAC,aAAcR,GACzBS,QAASC,gBACgBC,EAAOC,IAAI,SAASZ,GAAY,eACvCG,KAElBU,UAAWT,IAGb,OAAIE,GAAeS,QACTC,EAAe,IAGpBZ,IASHa,KAAC,MAAI,CAAAC,UAAU,kBACbC,SAAA,GAACF,KAAA,MAAA,CAAIC,UAAU,mBACbC,SAAA,CAAAC,EAAAC,IAAC,MAAA,CACCC,IAAKlB,EAAKmB,cAAgB,sBAC1BC,IAAK,GAAGpB,EAAKJ,qBACbkB,UAAU,wCAEXG,EAAAA,IAAA,KAAA,CAAGH,UAAU,mCAAoCC,WAAKnB,aACvDiB,KAAC,IAAE,CAAAC,UAAU,gBAAgBC,SAAA,CAAA,gBAAc,IAAIM,KAAKrB,EAAKsB,aAAaC,6BAGxEV,KAAC,MAAI,CAAAC,UAAU,wCACbC,SAAA,GAACF,KAAA,MAAA,CAAIC,UAAU,aACbC,SAAA,CAAAE,MAAC,MAAI,CAAAH,UAAU,cAAeC,UAAA,MAAAL,OAAA,EAAAA,EAAOc,eAAgB,IACpDP,EAAAA,IAAA,MAAA,CAAIH,UAAU,cAAcC,SAAa,uBAE5CF,KAAC,MAAI,CAAAC,UAAU,aACbC,SAAA,CAAAE,MAAC,MAAI,CAAAH,UAAU,cAAeC,UAAA,MAAAL,OAAA,EAAAA,EAAOe,WAAY,OAChDR,EAAAA,IAAA,MAAA,CAAIH,UAAU,cAAcC,SAAa,uBAE5CF,KAAC,MAAI,CAAAC,UAAU,aACbC,SAAA,CAAAE,MAAC,MAAI,CAAAH,UAAU,cAAeC,UAAA,MAAAL,OAAA,EAAAA,EAAOgB,cAAe,IACnDT,EAAAA,IAAA,MAAA,CAAIH,UAAU,cAAcC,SAAY,4BA7B7CE,IAAC,OAAIH,UAAU,mBACbC,eAAC,KAAG,CAAAD,UAAU,kCAAkCC,SAAA,oBA+BpD"}