import{r as e,e as s,j as a}from"./vendor-react-CkJ17WLR.js";import{L as t,c as r}from"./index-CVPKLKNk.js";import"./vendor-KpuKSdEb.js";import"./vendor-chart-COoc_JxG.js";import"./vendor-ui-CK7Iyed6.js";const c=()=>{const[c,n]=e.useState({isFromCache:!1,timestamp:null}),{data:d,isLoading:l}=s({queryKey:["leaderboard"],queryFn:async()=>{var e,s;const a=await r.get("/leaderboard"),t=(null==(e=a.headers)?void 0:e["x-cache-timestamp"])||null,c="cache"===(null==(s=a.headers)?void 0:s["x-data-source"]);return n({isFromCache:c,timestamp:t}),a.data}});return l?a.jsx(t,{}):a.jsx("div",{className:"container-fluid px-3",children:a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body p-0",children:[c.isFromCache&&a.jsxs("div",{className:"alert alert-info m-2",children:[a.jsx("i",{className:"material-icons align-middle",children:"access_time"}),a.jsx("span",{children:"Viewing cached standings"}),c.timestamp&&a.jsxs("span",{className:"ms-2 text-muted",children:["Last updated: ",new Date(c.timestamp).toLocaleString()]})]}),a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"table table-hover mb-0",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-center",children:"#"}),a.jsx("th",{children:"Username"}),a.jsx("th",{className:"text-center",children:"Sends"}),a.jsx("th",{className:"text-center",children:"Grade"}),a.jsx("th",{className:"text-center",children:"Pts"})]})}),a.jsx("tbody",{children:null==d?void 0:d.map(((e,s)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-center",children:s+1<=3?a.jsxs("span",{className:"material-symbols-outlined",children:["counter_",s+1]}):s+1}),a.jsx("td",{children:e.username}),a.jsx("td",{className:"text-center",children:e.totalSends}),a.jsx("td",{className:"text-center",children:e.avgGrade}),a.jsx("td",{className:"text-center",children:e.totalPoints})]},e.username)))})]})})]})})})};export{c as default};
