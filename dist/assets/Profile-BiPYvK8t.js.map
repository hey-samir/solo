{"version":3,"file":"Profile-BiPYvK8t.js","sources":["../../src/pages/Profile.tsx"],"sourcesContent":["import React, { FC, useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useQuery } from '@tanstack/react-query'\nimport client from '../api/client'\nimport LoadingSpinner from '../components/LoadingSpinner'\n\ninterface User {\n  id: number\n  username: string\n  profilePhoto: string | null\n  memberSince: string\n  gymId: number | null\n}\n\ninterface Stats {\n  totalAscents: number\n  totalPoints: number\n  avgGrade: string\n}\n\nconst Profile: FC = () => {\n  const { username } = useParams()\n  const isOwnProfile = !username // If no username provided, viewing own profile\n\n  const { data: user, isLoading: userLoading } = useQuery<User>({\n    queryKey: ['user', username],\n    queryFn: async () => {\n      const response = await client.get(`/user/${username || 'me'}`)\n      return response.data\n    },\n    enabled: !!username || isOwnProfile\n  })\n\n  const { data: stats, isLoading: statsLoading } = useQuery<Stats>({\n    queryKey: ['user-stats', username],\n    queryFn: async () => {\n      const response = await client.get(`/user/${username || 'me'}/stats`)\n      return response.data\n    },\n    enabled: !!user\n  })\n\n  if (userLoading || statsLoading) {\n    return <LoadingSpinner />\n  }\n\n  if (!user) {\n    return (\n      <div className=\"text-center py-8\">\n        <h1 className=\"text-2xl font-bold text-red-600\">User not found</h1>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"profile-section\">\n      <div className=\"text-center mb-8\">\n        <img\n          src={user.profilePhoto || '/default-avatar.svg'}\n          alt={`${user.username}'s profile`}\n          className=\"w-32 h-32 rounded-full mx-auto mb-4\"\n        />\n        <h1 className=\"text-3xl font-bold text-gray-900\">{user.username}</h1>\n        <p className=\"text-gray-600\">Member since {new Date(user.memberSince).toLocaleDateString()}</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.totalAscents || 0}</div>\n          <div className=\"stats-label\">Total Ascents</div>\n        </div>\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.avgGrade || '--'}</div>\n          <div className=\"stats-label\">Average Grade</div>\n        </div>\n        <div className=\"stats-card\">\n          <div className=\"stats-value\">{stats?.totalPoints || 0}</div>\n          <div className=\"stats-label\">Total Points</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Profile"],"names":["Profile","username","useParams","isOwnProfile","user","userLoading","useQuery","client","stats","statsLoading","LoadingSpinner","jsxs","jsx"],"mappings":"uGAoBA,MAAMA,EAAc,IAAM,CAClB,KAAA,CAAE,SAAAC,CAAS,EAAIC,EAAU,EACzBC,EAAe,CAACF,EAEhB,CAAE,KAAMG,EAAM,UAAWC,CAAA,EAAgBC,EAAe,CAC5D,SAAU,CAAC,OAAQL,CAAQ,EAC3B,QAAS,UACU,MAAMM,EAAO,IAAI,SAASN,GAAY,IAAI,EAAE,GAC7C,KAElB,QAAS,CAAC,CAACA,GAAYE,CAAA,CACxB,EAEK,CAAE,KAAMK,EAAO,UAAWC,CAAA,EAAiBH,EAAgB,CAC/D,SAAU,CAAC,aAAcL,CAAQ,EACjC,QAAS,UACU,MAAMM,EAAO,IAAI,SAASN,GAAY,IAAI,QAAQ,GACnD,KAElB,QAAS,CAAC,CAACG,CAAA,CACZ,EAED,OAAIC,GAAeI,QACTC,EAAe,EAAA,EAGpBN,EASHO,EAAA,KAAC,MAAI,CAAA,UAAU,kBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAC,EAAA,IAAC,MAAA,CACC,IAAKR,EAAK,cAAgB,sBAC1B,IAAK,GAAGA,EAAK,QAAQ,aACrB,UAAU,qCAAA,CACZ,EACCQ,EAAA,IAAA,KAAA,CAAG,UAAU,mCAAoC,WAAK,SAAS,EAChED,EAAAA,KAAC,IAAE,CAAA,UAAU,gBAAgB,SAAA,CAAA,gBAAc,IAAI,KAAKP,EAAK,WAAW,EAAE,mBAAmB,CAAA,CAAE,CAAA,CAAA,EAC7F,EAEAO,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,MAAC,MAAI,CAAA,UAAU,cAAe,UAAAJ,GAAA,YAAAA,EAAO,eAAgB,EAAE,EACtDI,EAAA,IAAA,MAAA,CAAI,UAAU,cAAc,SAAa,eAAA,CAAA,CAAA,EAC5C,EACAD,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAC,MAAC,MAAI,CAAA,UAAU,cAAe,UAAAJ,GAAA,YAAAA,EAAO,WAAY,KAAK,EACrDI,EAAA,IAAA,MAAA,CAAI,UAAU,cAAc,SAAa,eAAA,CAAA,CAAA,EAC5C,EACAD,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAC,MAAC,MAAI,CAAA,UAAU,cAAe,UAAAJ,GAAA,YAAAA,EAAO,cAAe,EAAE,EACrDI,EAAA,IAAA,MAAA,CAAI,UAAU,cAAc,SAAY,cAAA,CAAA,CAAA,CAC3C,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAhCEA,EAAA,IAAC,OAAI,UAAU,mBACb,eAAC,KAAG,CAAA,UAAU,kCAAkC,SAAA,gBAAA,CAAc,CAChE,CAAA,CAgCN"}