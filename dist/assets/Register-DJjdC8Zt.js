import{u as x,r as c,j as e,L as g,c as d}from"./index-e4rImrZW.js";import{u as j}from"./useQuery-DJvEC15W.js";const N=()=>{const u=x(),[s,h]=c.useState({name:"",email:"",username:"",password:"",gymId:""}),[n,o]=c.useState(null),{data:t}=j({queryKey:["gyms"],queryFn:async()=>(await d.get("/api/gyms")).data}),p=async a=>{var l,i;a.preventDefault();try{await d.post("/auth/register",s),u("/sends")}catch(m){(i=(l=m.response)==null?void 0:l.data)!=null&&i.message?o(m.response.data.message):o("Something went wrong. Please try again.")}},r=a=>{h(l=>({...l,[a.target.name]:a.target.value}))};return e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-8 col-lg-6",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body p-4",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label required-field",children:"Name"}),e.jsx("input",{type:"text",name:"name",className:"form-control form-control-lg",placeholder:"Samir",required:!0,value:s.name,onChange:r})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label required-field",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"form-control form-control-lg",placeholder:"name@email.com",required:!0,value:s.email,onChange:r})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label required-field",children:"Username"}),e.jsxs("div",{className:"input-group input-group-lg",children:[e.jsx("span",{className:"input-group-text",children:"@"}),e.jsx("input",{type:"text",name:"username",className:"form-control",required:!0,pattern:"[A-Za-z0-9]{1,9}",title:"Username must be 1-9 characters, letters and numbers only",placeholder:"heysamir",value:s.username,onChange:r})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label required-field",children:"Password"}),e.jsx("input",{type:"password",name:"password",className:"form-control form-control-lg",required:!0,placeholder:"8-12 characters, letters, numbers, symbols allowed",value:s.password,onChange:r})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label required-field",children:"Home Gym"}),e.jsxs("select",{name:"gymId",className:"form-select form-select-lg mb-2",value:s.gymId,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select a gym"}),t==null?void 0:t.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),n&&e.jsx("div",{className:"alert alert-danger",role:"alert",children:n}),e.jsx("button",{type:"submit",className:"btn nav-link active bg-solo-purple w-100 py-3",children:"Join"}),e.jsx("div",{className:"text-center mt-3",children:e.jsx(g,{to:"/login",className:"text-decoration-none text-white",children:"Already have an account? Login"})})]})})})})})};export{N as default};
