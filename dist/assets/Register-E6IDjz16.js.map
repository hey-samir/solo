{"version":3,"file":"Register-E6IDjz16.js","sources":["../../src/pages/Register.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport client from '../api/client';\n\ninterface RegisterForm {\n  name: string;\n  email: string;\n  username: string;\n  password: string;\n  gymId: string;\n}\n\ninterface Gym {\n  id: number;\n  name: string;\n}\n\nconst Register: React.FC = () => {\n  const navigate = useNavigate();\n  const [form, setForm] = useState<RegisterForm>({\n    name: '',\n    email: '',\n    username: '',\n    password: '',\n    gymId: ''\n  });\n  const [error, setError] = useState<string | null>(null);\n\n  const { data: gyms } = useQuery<Gym[]>({\n    queryKey: ['gyms'],\n    queryFn: async () => {\n      const response = await client.get('/api/gyms');\n      return response.data;\n    }\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      await client.post('/auth/register', form);\n      navigate('/sends');\n    } catch (err: any) {\n      if (err.response?.data?.message) {\n        setError(err.response.data.message);\n      } else {\n        setError('Something went wrong. Please try again.');\n      }\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    setForm(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  return (\n    <div className=\"row justify-content-center\">\n      <div className=\"col-md-8 col-lg-6\">\n        <div className=\"card\">\n          <div className=\"card-body p-4\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Name</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Samir\"\n                  required\n                  value={form.name}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Email</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"name@email.com\"\n                  required\n                  value={form.email}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Username</label>\n                <div className=\"input-group input-group-lg\">\n                  <span className=\"input-group-text\">@</span>\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control\"\n                    required\n                    pattern=\"[A-Za-z0-9]{1,9}\"\n                    title=\"Username must be 1-9 characters, letters and numbers only\"\n                    placeholder=\"heysamir\"\n                    value={form.username}\n                    onChange={handleChange}\n                  />\n                </div>\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Password</label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  className=\"form-control form-control-lg\"\n                  required\n                  placeholder=\"8-12 characters, letters, numbers, symbols allowed\"\n                  value={form.password}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Home Gym</label>\n                <select\n                  name=\"gymId\"\n                  className=\"form-select form-select-lg mb-2\"\n                  value={form.gymId}\n                  onChange={handleChange}\n                  required\n                >\n                  <option value=\"\">Select a gym</option>\n                  {gyms?.map(gym => (\n                    <option key={gym.id} value={gym.id}>\n                      {gym.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {error}\n                </div>\n              )}\n              <button\n                type=\"submit\"\n                className=\"btn nav-link active bg-solo-purple w-100 py-3\"\n              >\n                Join\n              </button>\n              <div className=\"text-center mt-3\">\n                <Link to=\"/login\" className=\"text-decoration-none text-white\">\n                  Already have an account? Login\n                </Link>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"names":["Register","navigate","useNavigate","form","setForm","useState","error","setError","gyms","useQuery","client","handleSubmit","e","err","_b","_a","handleChange","prev","jsx","jsxs","gym","Link"],"mappings":"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"}