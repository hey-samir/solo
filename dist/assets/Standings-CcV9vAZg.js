import{u as e,j as s}from"./vendor-utils-Dq_s5RPr.js";import{r as a}from"./vendor-react-Cv8fuk8E.js";import{L as t,c as r}from"./index-BboWMfKQ.js";const c=()=>{const[c,l]=a.useState({isFromCache:!1,timestamp:null}),{data:n,isLoading:d}=e({queryKey:["leaderboard"],queryFn:async()=>{var e,s;const a=await r.get("/leaderboard"),t=(null==(e=a.headers)?void 0:e["x-cache-timestamp"])||null,c="cache"===(null==(s=a.headers)?void 0:s["x-data-source"]);return l({isFromCache:c,timestamp:t}),a.data}});return d?s.jsx(t,{}):s.jsx("div",{className:"container-fluid px-3",children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body p-0",children:[c.isFromCache&&s.jsxs("div",{className:"alert alert-info m-2",children:[s.jsx("i",{className:"material-icons align-middle",children:"access_time"}),s.jsx("span",{children:"Viewing cached standings"}),c.timestamp&&s.jsxs("span",{className:"ms-2 text-muted",children:["Last updated: ",new Date(c.timestamp).toLocaleString()]})]}),s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-center",children:"#"}),s.jsx("th",{children:"Username"}),s.jsx("th",{className:"text-center",children:"Sends"}),s.jsx("th",{className:"text-center",children:"Grade"}),s.jsx("th",{className:"text-center",children:"Pts"})]})}),s.jsx("tbody",{children:null==n?void 0:n.map(((e,a)=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-center",children:a+1<=3?s.jsxs("span",{className:"material-symbols-outlined",children:["counter_",a+1]}):a+1}),s.jsx("td",{children:e.username}),s.jsx("td",{className:"text-center",children:e.totalSends}),s.jsx("td",{className:"text-center",children:e.avgGrade}),s.jsx("td",{className:"text-center",children:e.totalPoints})]},e.username)))})]})})]})})})};export{c as default};
