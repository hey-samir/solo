{"version":3,"file":"Register-DVwNGRB7.js","sources":["../../src/pages/Register.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport client from '../api/client';\n\ninterface RegisterForm {\n  name: string;\n  email: string;\n  username: string;\n  password: string;\n  gymId: string;\n}\n\ninterface Gym {\n  id: number;\n  name: string;\n}\n\nconst Register: React.FC = () => {\n  const navigate = useNavigate();\n  const [form, setForm] = useState<RegisterForm>({\n    name: '',\n    email: '',\n    username: '',\n    password: '',\n    gymId: ''\n  });\n  const [error, setError] = useState<string | null>(null);\n\n  const { data: gyms } = useQuery<Gym[]>({\n    queryKey: ['gyms'],\n    queryFn: async () => {\n      const response = await client.get('/api/gyms');\n      return response.data;\n    }\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      await client.post('/auth/register', form);\n      navigate('/sends');\n    } catch (err: any) {\n      if (err.response?.data?.message) {\n        setError(err.response.data.message);\n      } else {\n        setError('Something went wrong. Please try again.');\n      }\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    setForm(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  return (\n    <div className=\"row justify-content-center\">\n      <div className=\"col-md-8 col-lg-6\">\n        <div className=\"card\">\n          <div className=\"card-body p-4\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Name</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Samir\"\n                  required\n                  value={form.name}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Email</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"name@email.com\"\n                  required\n                  value={form.email}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Username</label>\n                <div className=\"input-group input-group-lg\">\n                  <span className=\"input-group-text\">@</span>\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control\"\n                    required\n                    pattern=\"[A-Za-z0-9]{1,9}\"\n                    title=\"Username must be 1-9 characters, letters and numbers only\"\n                    placeholder=\"heysamir\"\n                    value={form.username}\n                    onChange={handleChange}\n                  />\n                </div>\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Password</label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  className=\"form-control form-control-lg\"\n                  required\n                  placeholder=\"8-12 characters, letters, numbers, symbols allowed\"\n                  value={form.password}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label required-field\">Home Gym</label>\n                <select\n                  name=\"gymId\"\n                  className=\"form-select form-select-lg mb-2\"\n                  value={form.gymId}\n                  onChange={handleChange}\n                  required\n                >\n                  <option value=\"\">Select a gym</option>\n                  {gyms?.map(gym => (\n                    <option key={gym.id} value={gym.id}>\n                      {gym.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {error}\n                </div>\n              )}\n              <button\n                type=\"submit\"\n                className=\"btn nav-link active bg-solo-purple w-100 py-3\"\n              >\n                Join\n              </button>\n              <div className=\"text-center mt-3\">\n                <Link to=\"/login\" className=\"text-decoration-none text-white\">\n                  Already have an account? Login\n                </Link>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"names":["useState","jsx","jsxs"],"mappings":"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"}