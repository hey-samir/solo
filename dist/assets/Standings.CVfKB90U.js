import{r as e,f as s,j as a}from"./vendor.BYKJsIdm.js";import{L as t,c as r}from"./index.Dv-sRyDC.js";const c=()=>{const[c,n]=e.useState({isFromCache:!1,timestamp:null}),{data:d,isLoading:l}=s({queryKey:["leaderboard"],queryFn:async()=>{const e=await r.get("/leaderboard"),s=e.headers?.["x-cache-timestamp"]||null,a="cache"===e.headers?.["x-data-source"];return n({isFromCache:a,timestamp:s}),e.data}});return l?a.jsx(t,{}):a.jsx("div",{className:"container-fluid px-3",children:a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body p-0",children:[c.isFromCache&&a.jsxs("div",{className:"alert alert-info m-2",children:[a.jsx("i",{className:"material-icons align-middle",children:"access_time"}),a.jsx("span",{children:"Viewing cached standings"}),c.timestamp&&a.jsxs("span",{className:"ms-2 text-muted",children:["Last updated: ",new Date(c.timestamp).toLocaleString()]})]}),a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"table table-hover mb-0",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-center",children:"#"}),a.jsx("th",{children:"Username"}),a.jsx("th",{className:"text-center",children:"Sends"}),a.jsx("th",{className:"text-center",children:"Grade"}),a.jsx("th",{className:"text-center",children:"Pts"})]})}),a.jsx("tbody",{children:d?.map(((e,s)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-center",children:s+1<=3?a.jsxs("span",{className:"material-symbols-outlined",children:["counter_",s+1]}):s+1}),a.jsx("td",{children:e.username}),a.jsx("td",{className:"text-center",children:e.totalSends}),a.jsx("td",{className:"text-center",children:e.avgGrade}),a.jsx("td",{className:"text-center",children:e.totalPoints})]},e.username)))})]})})]})})})};export{c as default};
