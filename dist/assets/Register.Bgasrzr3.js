import{i as e,r as a,f as s,j as l,L as r}from"./vendor.BYKJsIdm.js";import{c as n}from"./index.IlIzE3wi.js";const t=()=>{const t=e(),[m,i]=a.useState({name:"",email:"",username:"",password:"",gymId:""}),[c,o]=a.useState(null),{data:d}=s({queryKey:["gyms"],queryFn:async()=>(await n.get("/api/gyms")).data}),u=e=>{i((a=>({...a,[e.target.name]:e.target.value})))};return l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-md-8 col-lg-6",children:l.jsx("div",{className:"card",children:l.jsx("div",{className:"card-body p-4",children:l.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await n.post("/auth/register",m),t("/sends")}catch(a){a.response?.data?.message?o(a.response.data.message):o("Something went wrong. Please try again.")}},children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label required-field",children:"Name"}),l.jsx("input",{type:"text",name:"name",className:"form-control form-control-lg",placeholder:"Samir",required:!0,value:m.name,onChange:u})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label required-field",children:"Email"}),l.jsx("input",{type:"email",name:"email",className:"form-control form-control-lg",placeholder:"name@email.com",required:!0,value:m.email,onChange:u})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label required-field",children:"Username"}),l.jsxs("div",{className:"input-group input-group-lg",children:[l.jsx("span",{className:"input-group-text",children:"@"}),l.jsx("input",{type:"text",name:"username",className:"form-control",required:!0,pattern:"[A-Za-z0-9]{1,9}",title:"Username must be 1-9 characters, letters and numbers only",placeholder:"heysamir",value:m.username,onChange:u})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label required-field",children:"Password"}),l.jsx("input",{type:"password",name:"password",className:"form-control form-control-lg",required:!0,placeholder:"8-12 characters, letters, numbers, symbols allowed",value:m.password,onChange:u})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label required-field",children:"Home Gym"}),l.jsxs("select",{name:"gymId",className:"form-select form-select-lg mb-2",value:m.gymId,onChange:u,required:!0,children:[l.jsx("option",{value:"",children:"Select a gym"}),d?.map((e=>l.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),c&&l.jsx("div",{className:"alert alert-danger",role:"alert",children:c}),l.jsx("button",{type:"submit",className:"btn nav-link active bg-solo-purple w-100 py-3",children:"Join"}),l.jsx("div",{className:"text-center mt-3",children:l.jsx(r,{to:"/login",className:"text-decoration-none text-white",children:"Already have an account? Login"})})]})})})})})};export{t as default};
